{% extends "layouts/base.html" %}

{% block title %}Contact | {{ site.name }}{% endblock %}
{% block description %}Get in touch with us.{% endblock %}

{% block body_class %}page-contact{% endblock %}

{% block content %}
<div class="container">
  {# Page Header #}
  <header class="page-header">
    <h1 class="page-title">{{ page.title | default(value='Contact') }}</h1>
    <p class="page-description">{{ page.subtitle | default(value='Have a question or want to say hello? We\'d love to hear from you.') }}</p>
  </header>

  {# Contact Form #}
  <div class="contact-form-wrapper" style="max-width: 600px; margin: 0 auto;">
    <form id="contact-form" action="{{ contact.form_action | default(value='/api/contact') }}" method="POST" class="contact-form">
      <div class="form-group">
        <label for="name" class="form-label">Name</label>
        <input type="text" id="name" name="name" required class="form-input" placeholder="Your name">
      </div>

      <div class="form-group">
        <label for="email" class="form-label">Email</label>
        <input type="email" id="email" name="email" required class="form-input" placeholder="your@email.com">
      </div>

      <div class="form-group">
        <label for="subject" class="form-label">Subject</label>
        <input type="text" id="subject" name="subject" class="form-input" placeholder="What's this about?">
      </div>

      <div class="form-group">
        <label for="message" class="form-label">Message</label>
        <textarea id="message" name="message" required class="form-textarea" placeholder="Your message..."></textarea>
      </div>

      <button type="submit" class="btn btn--primary btn--lg" style="width: 100%;">Send Message</button>
    </form>

    {# Alternative Contact Info #}
    {% if contact.email or contact.address %}
    <div class="contact-info" style="margin-top: var(--space-12); padding-top: var(--space-8); border-top: 1px solid var(--border-color);">
      <h3 style="font-size: var(--text-lg); margin-bottom: var(--space-4);">Other ways to reach us</h3>

      {% if contact.email %}
      <p style="margin-bottom: var(--space-2);">
        <strong>Email:</strong>
        <a href="mailto:{{ contact.email }}">{{ contact.email }}</a>
      </p>
      {% endif %}

      {% if contact.address %}
      <p>
        <strong>Address:</strong><br>
        {{ contact.address }}
      </p>
      {% endif %}
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('contact-form')?.addEventListener('submit', function(e) {
  e.preventDefault();

  const form = e.target;
  const submitBtn = form.querySelector('button[type="submit"]');
  const originalText = submitBtn.textContent;

  submitBtn.textContent = 'Sending...';
  submitBtn.disabled = true;

  // Simulate form submission
  setTimeout(function() {
    alert('Thank you for your message! We\'ll get back to you soon.');
    form.reset();
    submitBtn.textContent = originalText;
    submitBtn.disabled = false;
  }, 1000);
});
</script>
{% endblock %}
